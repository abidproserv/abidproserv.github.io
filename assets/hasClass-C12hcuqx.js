import{r as s,A as L,E as S,y as j,j as x,k as W}from"./index-C_0FWtUm.js";import{a as D,b as p}from"./useWindow-BntBCDwD.js";import{N as I}from"./NoopTransition-bwbrAZGq.js";const b=(n,t)=>L?n==null?(t||S()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function U(n,t){const i=D(),[e,o]=s.useState(()=>b(n,i==null?void 0:i.document));if(!e){const r=b(n);r&&o(r)}return s.useEffect(()=>{},[t,e]),s.useEffect(()=>{const r=b(n);r!==e&&o(r)},[n,e]),e}function q(n){return n.code==="Escape"||n.keyCode===27}function M(){const n=s.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}const P=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function A(n,t){if(n==null)return{};var i={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)>=0)continue;i[e]=n[e]}return i}function F(n){let{onEnter:t,onEntering:i,onEntered:e,onExit:o,onExiting:r,onExited:a,addEndListener:f,children:u}=n,c=A(n,P);const{major:m}=M(),h=m>=19?u.props.ref:u.ref,d=s.useRef(null),g=j(d,typeof u=="function"?null:h),l=E=>R=>{E&&d.current&&E(d.current,R)},v=s.useCallback(l(t),[t]),C=s.useCallback(l(i),[i]),O=s.useCallback(l(e),[e]),y=s.useCallback(l(o),[o]),T=s.useCallback(l(r),[r]),k=s.useCallback(l(a),[a]),w=s.useCallback(l(f),[f]);return Object.assign({},c,{nodeRef:d},t&&{onEnter:v},i&&{onEntering:C},e&&{onEntered:O},o&&{onExit:y},r&&{onExiting:T},a&&{onExited:k},f&&{addEndListener:w},{children:typeof u=="function"?(E,R)=>u(E,Object.assign({},R,{ref:g})):s.cloneElement(u,{ref:g})})}const G=["component"];function N(n,t){if(n==null)return{};var i={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)>=0)continue;i[e]=n[e]}return i}const V=s.forwardRef((n,t)=>{let{component:i}=n,e=N(n,G);const o=F(e);return x.jsx(i,Object.assign({ref:t},o))});function _({in:n,onTransition:t}){const i=s.useRef(null),e=s.useRef(!0),o=W(t);return p(()=>{if(!i.current)return;let r=!1;return o({in:n,element:i.current,initial:e.current,isStale:()=>r}),()=>{r=!0}},[n,o]),p(()=>(e.current=!1,()=>{e.current=!0}),[]),i}function $({children:n,in:t,onExited:i,onEntered:e,transition:o}){const[r,a]=s.useState(!t);t&&r&&a(!1);const f=_({in:!!t,onTransition:c=>{const m=()=>{c.isStale()||(c.in?e==null||e(c.element,c.initial):(a(!0),i==null||i(c.element)))};Promise.resolve(o(c)).then(m,h=>{throw c.in||a(!0),h})}}),u=j(f,n.ref);return r&&!t?null:s.cloneElement(n,{ref:u})}function H(n,t,i){return n?x.jsx(V,Object.assign({},i,{component:n})):t?x.jsx($,Object.assign({},i,{transition:t})):x.jsx(I,Object.assign({},i))}function J(n,t){return n.classList?!!t&&n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}export{J as h,q as i,H as r,U as u};
