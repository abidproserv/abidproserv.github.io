import{j as r,r as o,R as fr,C as We}from"./index-C_0FWtUm.js";import{P as hr}from"./PageTitle-BUKOvkpi.js";import{U as mr}from"./UIExamplesList-DnOpW4eZ.js";import{C as Z}from"./ComponentContainerCard-C9Hc2OVg.js";import{B as gr}from"./Button-DmnTiVRh.js";import{C as pr,a as xr,b as br}from"./Card-BRu89jqC.js";import"./Button-DZkCRLmd.js";import"./divWithClassName-Bq-9A6fd.js";const ee=e=>{},Re=typeof window>"u"?o.useEffect:o.useLayoutEffect,Ve=e=>typeof e=="number"&&e>0,Te=e=>Ve(e)?e:0,ye=e=>Math.round(100*e)/100,Oe=e=>Math.round(2*e)/2,Ue=e=>e===0?0:-1*ye(e),Rr={},yr="rr--group",Or="rr--box",Sr="rr--svg",Lr="rr--reset",Pe="rr--focus-reset",vr="rr--svg-stop-1",Cr="rr--svg-stop-2",Ze="rr--on",_e="rr--off",V={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},re={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},me={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},ge={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},Er="rr--pointer",jr="rr--disabled",Mr="rr--dir-y",Ar="rr--dir-x",Br="rr--has-stroke",Ir="rr--has-border",wr="rr--hf-box-on",Dr="rr--hf-box-int",kr="rr--hf-box-off",$r="rr--hf-svg-on",Fr="rr--hf-svg-off",te={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},ne={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},Nr="--rr--border-width",Xe="horizontal",Ye="vertical",pe="svg",Ge="box",x={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},P={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},w={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},se={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function Wr({itemShapes:e,testId:a,itemStrokeWidth:s=0,orientation:u=Xe,hasHF:l=!1}){const m=s>0?-s/2:0,E=s>0?`${m} ${m}`:"0 0",S=o.useId(),g=o.useRef(null),[p,W]=o.useState(null),[T,U]=o.useState(!1),D=o.useRef(null),j=o.useRef(null),M=o.useCallback(c=>{const{width:y,height:f,x:k,y:A}=c.getBBox();if(((...b)=>b.every(R=>typeof R=="number"))(y,f,k,A)){const b=`${E} ${ye(y+s)} ${ye(f+s)}`,R=`${Ue(k)} ${Ue(A)}`;W({viewBox:b,translateData:R})}},[s,E]);return Re(()=>{if(g.current){const{width:c,height:y,x:f,y:k}=g.current.getBBox();if(c===0&&y===0&&f===0&&k===0){const A=function(b){if(!b||!b.parentElement)return null;let R=b==null?void 0:b.parentElement;for(;R&&window.getComputedStyle(R).display!=="none";)R=R.parentElement;return R}(g.current);A&&(j.current=A,U(!0))}else U(!1);M(g.current)}},[e,s,l]),Re(()=>{if(T&&j.current)return D.current=new MutationObserver((c,y)=>{c.forEach(()=>{window.getComputedStyle(j.current).display==="none"||(M(g.current),y.disconnect())})}),D.current.observe(j.current,{attributes:!0}),()=>{var c;(c=D.current)==null||c.disconnect()}},[T,M]),r.jsxs("svg",{"aria-hidden":"true",className:Sr,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...s>0?{strokeWidth:s}:{},...a,children:[l&&r.jsx("defs",{children:r.jsxs("linearGradient",{id:S,...u===Ye?{gradientTransform:"rotate(90)"}:{},children:[r.jsx("stop",{className:vr,offset:"50%"}),r.jsx("stop",{className:Cr,offset:"50%"})]})}),r.jsx("g",{ref:g,shapeRendering:"geometricPrecision",...function(){if(p){const c=`translate(${p==null?void 0:p.translateData})`;return c==="translate(0 0)"?{}:{transform:c}}return{transform:void 0}}(),...l?{fill:`url('#${S}')`}:{},children:e})]})}function ze(e,a,s){switch(a){case w.FILL:return e[te.FILL]=s,!0;case w.BOX:return e[te.BOX]=s,!0;case w.BORDER:return e[te.BORDER]=s,!0;case w.STROKE:return e[te.STROKE]=s,!0}return!1}function Tr(e,a,s){if(!ze(e,a,s))switch(a){case se.FILL:e[ne.FILL]=s;break;case se.BOX:e[ne.BOX]=s;break;case se.BORDER:e[ne.BORDER]=s;break;case se.STROKE:e[ne.STROKE]=s}}function Ur(e,a,s){const u={};let l;for(const[m,E]of Object.entries(e))ze(u,m,E[a]);return s?(l=Array(a).fill({}),l.push(u)):l=Array(a+1).fill(u),l}const xe=e=>`${e} ${V.COLORS}`;function Pr({className:e,radius:a,readOnly:s,isDisabled:u,isDynamic:l,transition:m,orientation:E,absoluteBoxBorderWidth:S,absoluteStrokeWidth:g,spaceBetween:p,spaceInside:W}){const T=l?Er:"",U=function(f){switch(f){case x.SMALL:return me.SMALL;case x.MEDIUM:return me.MEDIUM;case x.LARGE:return me.LARGE;default:return""}}(p),D=function(f){switch(f){case x.SMALL:return ge.SMALL;case x.MEDIUM:return ge.MEDIUM;case x.LARGE:return ge.LARGE;default:return""}}(W),j=!s&&u?jr:"",M=l&&m!==P.NONE?function(f){switch(f){case P.ZOOM:return xe(V.ZOOM);case P.POSITION:return xe(V.POSITION);case P.OPACITY:return xe(V.OPACITY);case P.COLORS:return V.COLORS;default:return""}}(m):"",c=E===Ye?Mr:Ar,y=function(f){switch(f){case x.SMALL:return re.SMALL;case x.MEDIUM:return re.MEDIUM;case x.LARGE:return re.LARGE;case x.FULL:return re.FULL;default:return""}}(a);return`${yr} ${c} ${g>0?Br:""} ${S>0?Ir:""}
${M} ${y} ${T} ${j} ${U}
${D} ${e}`.replace(/  +/g," ").trimEnd()}function Zr(e,a,s){return Array.from({length:a},(u,l)=>e?l===s?Ze:_e:l<=s?Ze:_e)}function _r(e,a,s){const u=Math.floor(Oe(e));return Array.from({length:a},(l,m)=>s==="box"?m>u?kr:m===u?Dr:wr:m>u?Fr:$r)}function He(e,a){const s={};Ve(a)&&(s[Nr]=`${a}px`);const u=Object.entries(e);if(u.length>0)for(const[l,m]of u)Tr(s,l,m);return s}const Gr=[w.FILL,w.BOX,w.STROKE,w.BORDER];function be(e,a,s=!1){return Array.from({length:e},(u,l)=>s&&a<0?l===e-1?0:-1:a<=0?l===0?0:-1:a>0?l===a?0:-1:void 0)}const Hr="@smastrom/react-rating",Kr=e=>`[${Hr}] - Nothing's returned from rendering. Reason: ${e}.`;function K(e,a){return e.shouldRender=!1,e.reason=Kr(a),e}const Ke="itemShapes is not a valid JSX element",qe=r.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"}),Vr=r.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"}),Xr=r.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"}),Yr=r.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"}),zr=r.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});r.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const qr={itemShapes:qe,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},N=o.forwardRef(({value:e,items:a=5,readOnly:s=!1,onChange:u=ee,onHoverChange:l=ee,onFocus:m=ee,onBlur:E=ee,preventDefault:S="all",isDisabled:g=!1,highlightOnlySelected:p=!1,orientation:W=Xe,spaceBetween:T=x.NONE,spaceInside:U=x.SMALL,radius:D=x.NONE,transition:j=P.COLORS,itemStyles:M=qr,isRequired:c=!1,halfFillMode:y=pe,visibleLabelId:f,visibleItemLabelIds:k,invisibleItemLabels:A,invisibleLabel:b=s?e>0?`Rated ${e} on ${a}`:"Not rated":"Rating Selection",resetLabel:R="Reset rating",id:Je,className:Se,style:Qe},Le)=>{const L=Array.from({length:a},(t,n)=>n+1),ve=s&&!Number.isInteger(e),Ce=ve&&!p,v=ve&&p?Math.round(e):e,B=!s&&!g,X=v>=.25,er=typeof Se=="string"?Se:"",ae=y===Ge?Ge:pe,ie=Ce&&!(t=>Number.isInteger(Oe(t)))(v),rr=!c&&!s,Y=c?a:a+1,C=Ce?function(t,n){const i=Oe(n);return Number.isInteger(i)?t.indexOf(i):Math.floor(i)}(L,v):L.indexOf(v),{staticColors:oe,arrayColors:le,itemShapes:z,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:q}=o.useMemo(()=>{const{itemShapes:t,itemStrokeWidth:n,boxBorderWidth:i,...d}=M,h=function(O){const $={...O},J={},Q=Object.entries($);if(Q.length>0)for(const[I,F]of Q)if(Array.isArray(F)||typeof F=="string"){if(Array.isArray(F))for(const ur of Gr)if(ur===I){const Ne=F.filter(dr=>typeof dr=="string");Ne.length>0&&(J[I]=Ne,delete $[I])}else delete $[I]}else delete $[I];return{arrayColors:J,staticColors:$}}(d);return{itemShapes:t,absoluteStrokeWidth:Te(n),absoluteBoxBorderWidth:Te(i),...h}},[M]),je=Object.keys(le).length>0,_=o.useCallback((t,n)=>({dynamicClassNames:ie?_r(v,a,ae):Zr(p,a,t),dynamicCssVars:n&&je?Ur(le,t,p):[]}),[le,je,p,ae,ie,a,v]),ce=o.useCallback(()=>Be(be(Y,C,!c)),[C,Y,c]),Me=o.useRef(!0),Ae=o.useRef(!0),ue=o.useRef(null),G=o.useRef([]),de=o.useRef(!1),[H,fe]=o.useState({staticCssVars:He(oe,q),..._(C,X)}),[tr,Be]=o.useState(()=>B?be(Y,C,!c):[]);Re(()=>{B&&G.current&&(de.current=function(t){return t?getComputedStyle(t).getPropertyValue("direction")==="rtl":!1}(G.current[0]))},[B]),o.useEffect(()=>{if(!Me.current)return fe({staticCssVars:He(oe,q),..._(C,X)});Me.current=!1},[oe,_,q,C,X]),o.useEffect(()=>{if(!Ae.current&&B)return ce();Ae.current=!1},[B,ce]);const{shouldRender:nr,reason:sr}=function({items:t,itemShapes:n}){const i={shouldRender:!0,reason:""};if(typeof t!="number"||t<1||t>10)return K(i,"items is invalid");if(!n)return K(i,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(n)&&!o.isValidElement(n))return K(i,Ke);if(Array.isArray(n)){if(n.length!==t)return K(i,"itemShapes length mismatch");if(!n.every(d=>o.isValidElement(d)))return K(i,Ke)}return i}({items:a,itemShapes:z});if(!nr)return console.error(sr),null;function he(t,n,i=()=>{}){G.current.some(d=>d===t.relatedTarget)?i():n()}function Ie(){l(0),ce()}function ar(t){he(t,()=>{Ie()}),fe({...H,..._(C,X)})}function we(t){he(t,()=>{Ie(),E()})}function De(t,n){const i=!c&&n===L.length?0:n+1;he(t,()=>{m(),l(i)},()=>{l(i)})}function ke(t){Be(be(Y,t,!c)),G.current[t].focus()}const ir=Pr({className:er,radius:D,readOnly:s,isDisabled:g,isDynamic:B,transition:j,orientation:W,absoluteBoxBorderWidth:q,absoluteStrokeWidth:Ee,spaceBetween:T,spaceInside:U});function $e(t){return{ref:n=>G.current[t]=n}}function Fe(t){return{tabIndex:tr[t],onKeyDown:n=>function(i,d){let h=0;const O=c?L.length-1:L.length,$=d-1,J=d+1,Q=!c&&d===L.length,I=d===0?O:$,F=O===d?0:J;switch(i.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return h=de.current?I:F,ke(h);case"ArrowUp":case"ArrowLeft":return h=de.current?F:I,ke(h);case"Enter":case"Space":return S!=="all"&&S!=="click"||i.preventDefault(),u(Q?0:d+1)}i.stopPropagation()}(n,t)}}function or(t){return{onClick:n=>function(i,d){S!=="all"&&S!=="keydown"||i.preventDefault(),i.stopPropagation(),u(c||C!==d?d+1:0)}(n,t),onMouseEnter:()=>function(n){l(n+1),fe({...H,..._(n,!0)})}(t),onMouseLeave:ar}}function lr(t){if(s)return{};const n={};if(Array.isArray(k))n["aria-labelledby"]=k[t];else{const i=Array.isArray(A)?A:L.map((d,h)=>`Rate ${h+1}`);n["aria-label"]=i[t]}return g&&(n["aria-disabled"]="true"),{role:"radio","aria-checked":t+1===v,...n}}function cr(t){const n={itemShapes:Array.isArray(z)?z[t]:z,itemStrokeWidth:Ee,orientation:W,hasHF:!1,testId:{}};return ie&&ae===pe&&(n.hasHF=t===C),n}return r.jsx("div",{id:Je,className:ir,style:{...Qe,...H.staticCssVars},ref:function(t){B&&!c&&(ue.current=t),Le&&(Le.current=t)},...function(){if(!s){const t=c&&!g,n={role:"radiogroup","aria-required":t};return t&&(n["aria-invalid"]=v<=0),typeof f=="string"&&f.length>0?n["aria-labelledby"]=f:n["aria-label"]=b,n}return{role:"img","aria-label":b}}(),...Rr,children:L.map((t,n)=>{return r.jsxs(o.Fragment,{children:[r.jsx("div",{className:`${Or} ${H.dynamicClassNames[n]}`,style:H.dynamicCssVars[n],...lr(n),...(d=n,B?{...$e(d),...Fe(d),...or(d),onFocus:h=>De(h,d),onBlur:h=>we(h)}:{}),children:r.jsx(Wr,{...cr(n)})}),rr&&n===L.length-1&&r.jsx("div",{...(i=n+1,{className:Lr,role:"radio","aria-label":R,"aria-checked":v===0,onClick:()=>u(0),onFocus:h=>{var O;De(h,i),(O=ue.current)==null||O.classList.add(Pe)},onBlur:h=>{var O;we(h),(O=ue.current)==null||O.classList.remove(Pe)},...Fe(i),...$e(i),...g?{"aria-disabled":"true"}:{}})})]},t);var i,d})})});N.displayName="Rating";const Jr=()=>{const[e,a]=o.useState(3);return r.jsx(Z,{title:"Basic @smastrom/react-rating Example",id:"basic",titleClass:"mb-3",children:r.jsx(N,{value:e,onChange:a,style:{maxWidth:160}})})},Qr=()=>r.jsx(Z,{title:"Read Only Examples.",id:"read_only",titleClass:"mb-3",children:r.jsx(N,{value:2,readOnly:!0,style:{maxWidth:160}})}),et=()=>r.jsx(Z,{title:"Disabled Rating Example",id:"disable",titleClass:"mb-3",children:r.jsx(N,{value:0,isDisabled:!0,style:{maxWidth:"160px"}})}),rt=()=>{const[e,a]=o.useState(3);return r.jsx(Z,{title:"Highlight only selected Example",id:"highlight",titleClass:"mb-3",children:r.jsx(N,{value:e,onChange:a,highlightOnlySelected:!0,style:{maxWidth:"160px"}})})},tt=()=>{const[e,a]=o.useState(3);return r.jsx(Z,{title:"Rating With Reset Button",id:"reset_example",titleClass:"mb-3",children:r.jsxs("div",{className:"d-inline-flex align-items-center gap-3",children:[r.jsx(N,{value:e,onChange:a,style:{maxWidth:"160px"}}),r.jsx(gr,{variant:"light",size:"sm",onClick:()=>a(0),children:"Reset"})]})})},nt=()=>{const[e,a]=o.useState(3),s=[qe,Vr,Xr,Yr,zr].map(u=>({itemShapes:u,activeFillColor:"#f59e0b",inactiveFillColor:"#ffedd5"}));return r.jsx(Z,{title:"Clear/Reset Rater Example",id:"rating_style",titleClass:"mb-3",children:s.map((u,l)=>r.jsx(N,{value:e,onChange:a,itemStyles:u,style:{maxWidth:"160px"}},`shape_${l}`))})},st=()=>r.jsxs(r.Fragment,{children:[r.jsx(Jr,{}),r.jsx(Qr,{}),r.jsx(et,{}),r.jsx(rt,{}),r.jsx(tt,{}),r.jsx(nt,{})]}),ht=()=>r.jsxs(r.Fragment,{children:[r.jsx(hr,{title:"Ratings"}),r.jsxs(fr,{children:[r.jsxs(We,{xl:9,children:[r.jsx(pr,{children:r.jsxs(xr,{children:[r.jsxs(br,{as:"h5",className:"mb-1 anchor",id:"overview",children:["Overview",r.jsx("a",{className:"btn btn-sm btn-outline-success rounded-2 float-end",href:"https://www.npmjs.com/package/@smastrom/react-rating",target:"_blank",children:"Official Website"})]}),r.jsx("p",{className:"text-muted mb-3",children:"Zero dependency, highly customizable rating component for React."}),r.jsx("h5",{className:"mt-2",children:"Usage"}),r.jsx("p",{className:"mb-0",children:"React Rating's css needs to be imported when using the Rating component"})]})}),r.jsx(st,{})]}),r.jsx(We,{xl:3,children:r.jsx(mr,{examples:[{link:"#overview",label:"Default"},{link:"#read_only",label:"Read Only Example"},{link:"#disable",label:"Disable Example"},{link:"#highlight",label:"Highlight Only"},{link:"#reset_example",label:"Reset Rating Example"},{link:"#rating_style",label:"Rating Styles"}]})})]})]});export{ht as default};
